/* 100歳クエスト Demo Styles (GitHub Pages ready) */
/* ---- Light Theme Variables ---- */
:root{
  /* ライト基調 */
  --bg:#ffffff;
  --fg:#111111;
  --muted:#555e68;
  --card:#ffffff;
  --line:rgba(0,0,0,0.08);
  --shadow:0 8px 24px rgba(0,0,0,0.08);
  --accent:#2b7cff;
  --accent2:#34d3a3;
  --danger:#e53935; --warn:#f6b93b; --good:#2e7d32;
  --label-w:56px; /* ステータス左ラベル幅 */

  /* 区ごとの色（近似色） */
  --hakata:#6a1b9a;   /* 紫 */
  --chuo:#d32f2f;     /* 赤 */
  --higashi:#1976d2;  /* 青 */
  --nishi:#ef6c00;    /* 橙 */
  --sawara:#2e7d32;   /* 緑 */
  --jonan:#283593;    /* 藍 */
  --minami:#7b1fa2;   /* 濃紫 */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN","Yu Gothic","Noto Sans JP",sans-serif;
  font-size:110%;
  line-height:1.6;
  color:var(--fg);
  background:var(--bg);
}
a{color:var(--accent)}
.container{max-width:1080px;margin:0 auto;padding:24px}

header{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;
  max-width:1080px;margin-left:auto;margin-right:auto;padding-left:24px;padding-right:24px;
}
.brand{display:flex;gap:12px;align-items:center}
.logo{
  width:40px;height:40px;border-radius:12px;
  background:radial-gradient(circle at 30% 30%,#58b0ff,#0066cc);
  box-shadow:0 6px 20px rgba(43,124,255,0.25)
}
.brand h1{margin:0;font-size:20px;letter-spacing:.2px}
.card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow)}

/* タイトル/イントロの中央寄せ（centerクラス） */
.center{display:grid;gap:14px;padding:22px;text-align:center}

#title ul,#intro ul,#advice ul{
  list-style:disc;list-style-position:outside;
  padding-left:1.25rem;margin:.25rem 0 0;text-align:left
}
#title li,#intro li,#advice li{ text-align:left }

/* ===== 既定レイアウト（デスクトップ基準だった部分を後段でモバイル優先に上書き） ===== */
.screen{position:relative;display:grid;grid-template-columns: 1fr 72px;gap:16px}
.content{padding:18px}
.row{display:grid;grid-template-columns: 280px 1fr;gap:16px}

.status{padding:16px}
.avatar{
  width:100%;aspect-ratio:1/1.05;border-radius:12px;
  background:linear-gradient(135deg,#f3f8ff,#e7f0ff);
  display:grid;place-items:center;color:#1e3a8a;font-weight:700
}
.meta{margin-top:12px;font-size:14px;color:var(--muted)}
.meta div{margin:2px 0}
.bars{margin-top:12px;display:grid;gap:10px}

/* ステータス行：左ラベル / 中バー / 右数値 */
.stat-row{display:grid;grid-template-columns: var(--label-w) 1fr 36px;align-items:center;gap:10px}
.stat-label{color:#1e3a8a;opacity:.9}
.stat-val{color:#34495e;text-align:right}

.bar{background:#f1f5f9;border-radius:10px;position:relative;height:12px;overflow:hidden;border:1px solid var(--line)}
.bar > i{display:block;height:100%;background:linear-gradient(90deg,#2b7cff,#34d3a3);width:40%}

.story{padding:16px;display:grid;gap:12px}
.month-title{font-size:18px;margin:0 0 4px}
.episode{padding:12px 14px;background:#f8fafc;border:1px solid var(--line);border-radius:12px}
.choices{display:grid;gap:8px}

/* 選択肢ボタン（ライト基調） */
.choice-btn,
.choices button{
  padding:12px 14px;border-radius:10px;border:1px solid var(--line);
  background:#f7f8fa;color:#111;cursor:pointer;font-size:14px;text-align:left;
  transition:transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease;
}
.choices button:hover{
  transform:translateY(-1px);
  box-shadow:0 6px 16px rgba(0,0,0,0.12);
  background:#e8f1ff; color:#111;
}

/* 月インデックス（ライト） */
.month-index{position:sticky;top:16px;height:fit-content;padding:8px}
.tab{
  display:flex;align-items:center;justify-content:center;height:42px;margin:8px 0;border-radius:10px;
  background:#f8fafc;border:1px solid var(--line);font-size:12px;color:#5e6b78;opacity:.9
}
.tab.active{background:linear-gradient(180deg,#e8f0ff,#e0ebff);color:#0f172a;box-shadow:0 6px 18px rgba(43,124,255,0.18)}

/* フッター/ボタン（ライト） */
.footer-nav{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-top:1px solid var(--line)}
.btn{
  padding:10px 14px;border-radius:10px;border:1px solid var(--line);
  background:#f5f7fb;color:#111;cursor:pointer
}
.btn.primary{background:linear-gradient(90deg,#2b7cff,#34d3a3);color:#fff;border-color:transparent}
.btn.ghost{background:#fff;border-color:var(--line);color:#1f2937}
.btn:disabled{opacity:.5;cursor:not-allowed}

/* Wizard screens */
.options{display:grid;gap:10px;grid-template-columns: repeat(auto-fit,minmax(220px,1fr))}
.option{
  padding:12px;border-radius:12px;border:1px solid var(--line);background:#fff;cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, outline .12s ease, background-color .12s ease, color .12s ease, border-color .12s ease
}
.option:hover{transform:translateY(-1px); background:#f6faff; color:#111;}
.option.selected{outline:2px solid var(--accent);box-shadow:0 0 0 4px rgba(43,124,255,0.12) inset;background:#eef5ff}
.option small{opacity:.8;color:var(--muted)}
.badge{display:none} /* バッジ非表示（JS側でも生成していない） */

/* ナビゲーションボタン中央寄せ */
.nav-buttons{display:flex;justify-content:center;gap:12px;margin-top:16px}

/* ---- 区別ボーダー（#district 用） ---- */
/* 視認性が高く控えめな左線で色を出す */
.option.d-hakata { border-left:6px solid var(--hakata); }
.option.d-chuo   { border-left:6px solid var(--chuo); }
.option.d-higashi{ border-left:6px solid var(--higashi); }
.option.d-nishi  { border-left:6px solid var(--nishi); }
.option.d-sawara { border-left:6px solid var(--sawara); }
.option.d-jonan  { border-left:6px solid var(--jonan); }
.option.d-minami { border-left:6px solid var(--minami); }

.hidden{display:none}

/* =========================================================
   ▼ レスポンシブ（モバイル優先の上書き）
   既存HTML/クラスは維持したまま、狭幅→広幅の順で最適化
   ========================================================= */

/* 共通: 日本語の“1字縦積み”防止と可読性 */
#intro, #advice, .episode, .story, .content, .center {
  writing-mode: horizontal-tb;
  word-break: normal;
  overflow-wrap: anywhere;
  line-height: 1.8;
  letter-spacing: .02em;
}

/* モバイル（～479px）: 1カラム徹底 */
@media (max-width: 479px) {
  .container { padding: 12px; }
  header { padding-left:12px; padding-right:12px; }

  /* 画面は縦積み */
  .screen { grid-template-columns: 1fr; gap: 12px; }

  /* 左カード＋右本文を縦並びに */
  .row { grid-template-columns: 1fr; gap: 12px; }

  /* 月インデックスは最下部へ（縦スクロールしやすく） */
  .month-index { position: static; padding: 0; order: 3; }
  .tab { height: 38px; margin: 6px 0; font-size: 12px; }

  /* 余白とタップ領域拡大 */
  .status, .story, .content { padding: 12px; }
  .choices { gap: 10px; }
  .choices button, .btn { min-height: 44px; }

  /* オプションカードは1列～2列可（最小幅160px） */
  .options { grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap: 10px; }

  /* アバターはやや縦長に */
  .avatar { min-height: 180px; }

  /* フッター：縦積み */
  .footer-nav { flex-direction: column; gap: 10px; align-items: stretch; }
}

/* タブレット（≥480px ～ 767px）: 1～2カラム */
@media (min-width: 480px) and (max-width: 767px) {
  .container { padding: 16px; }
  .screen { grid-template-columns: 1fr; gap: 14px; }
  .row { grid-template-columns: 1fr; }
  .month-index { position: static; padding: 4px 0; }
  .options { grid-template-columns: repeat(auto-fit, minmax(180px,1fr)); }
  .avatar { min-height: 200px; }
}

/* タブレット横～小型ノート（768～1023px）: 2カラム */
@media (min-width: 768px) and (max-width: 1023px) {
  .container { padding: 20px; }
  /* 左カード(280px) + 右本文、月インデックスは下段 */
  .row { grid-template-columns: 280px 1fr; }
  .screen { grid-template-columns: 1fr; } /* 月インデックスは下 */
  .month-index { position: static; }
}

/* デスクトップ（≥1024px）: 3カラム風 */
@media (min-width: 1024px) {
  /* 既存の .row(左/右) + .screen(本文/インデックス) をそのまま活かす */
  .screen { grid-template-columns: 1fr 88px; }
  .month-index { position: sticky; top: 16px; }
  .avatar { min-height: 220px; }
}

/* アクセシビリティ：フォーカス可視化 */
:focus-visible {
  outline: 3px solid rgba(59,130,246,.6);
  outline-offset: 2px;
}
